<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <ion-title>Se connecter</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <br>
  <h1 class="title">Visiter ancienne médina de Casablanca</h1>
  <br>
  <br>
  <ion-row>
      <ion-col> 
          <img src="./assets/imgs/login/youtube-bg-660x330.jpg">
      </ion-col> 
  </ion-row>
  <br>
  <form  #formm="ngForm">    

    <ion-item lines="full">
      <ion-label position="floating">Email</ion-label>
      <ion-input type="text" #email required [name]="'email'" [(ngModel)]="loginForm.email" ></ion-input>
    </ion-item> 

    <ion-item lines="full">
      <ion-label position="floating">Password</ion-label>
      <ion-input type="password" #password required [name]="'password'"  [(ngModel)]="loginForm.password"(ionChange)="inputChanged()"></ion-input>
    </ion-item>
    <br>
    <br>
    <br>
    <ion-row>
      <ion-col> 
      <ion-button type="submit" [disabled]="(!formm.valid)" (click)="logIn(email, password)" expand="block">Se connecter</ion-button>
      </ion-col>
    </ion-row>
    <br>
    <br>
    <br>
    <ion-row [hidden] = "!error">
      <ion-col > 
        <p>
          <ion-text color="danger">
            une erreur s'est produite, assurez-vous d'avoir entré les informations correctes ou réessayez plus tard
          </ion-text> 
        </p>
      </ion-col>
    </ion-row>
    <ion-row [hidden] = "!serverError">
      <ion-col > 
        <p>
          <ion-text color="danger">
            une erreur s'est produite, assurez-vous d'avoir entré les informations correctes ou réessayez plus tard
          </ion-text> 
        </p>
      </ion-col>
    </ion-row>
    <ion-row [hidden] = "verified">
      <ion-col > 
        <ion-button color="danger" type="submit" (click)="verify()" fill="clear" expand="block">
            renvoyer l'e-mail de vérification
            <ion-icon name="send-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>
    
    <ion-row>
      <ion-buttons>
        <ion-button type="submit" (click)="passwordRecover(email)" fill="clear" expand="full">récupération de mot de passe</ion-button>
        <ion-button type="submit" color="primary"(click)="register()" fill="clear" expand="full">S'inscrire</ion-button>
      </ion-buttons>
    </ion-row>
    <br>
    <br>
    <!--<ion-row>
      <ion-col> 
        <ion-button fill="outline" [routerLink]="'/app/tabs/map'" expand="block">
          pas maintenant
          <ion-icon name="chevron-forward-outline"></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>-->
  </form>


  <!--<div class="login-logo" >
  </div>
  <div class="login-logo" >
  </div>

  <form #loginForm="ngForm" novalidate>
    <ion-list>
      <ion-item>
        <ion-label position="stacked" color="primary">Username</ion-label>
        <ion-input (ionChange)="inputChanged()" [(ngModel)]="login.username" name="username" type="text" #username="ngModel" spellcheck="false" autocapitalize="off"
          required>
        </ion-input>
      </ion-item>

      <ion-text color="danger">
        <p [hidden]="username.valid || submitted == false" class="ion-padding-start">
          Username is required
        </p>
      </ion-text>

      <ion-item>
        <ion-label position="stacked" color="primary">Password</ion-label>
        <ion-input (ionChange)="inputChanged()" [(ngModel)]="login.password" name="password" type="password" #password="ngModel" required>
        </ion-input>
      </ion-item>

      <ion-text color="danger"> 
        <p [hidden]="password.valid || submitted == false" class="ion-padding-start">
          Password is required
        </p>
      </ion-text>
    </ion-list>


    <ion-list *ngIf="incorrect">
      <ion-text color="danger" >
        <p >
          Username or Password is incorrect
        </p>
      </ion-text>
    </ion-list>

    <ion-row>
      <ion-col>
        <ion-button (click)="onLogin(loginForm)" type="submit" expand="block">Login</ion-button>
      </ion-col>
    </ion-row>
  </form>-->

</ion-content>

